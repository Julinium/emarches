{% extends 'base/base.html' %}
{% load i18n static %}
{% load paraminos %}
{% load humanize %}
{% load tz %}

{% block title %}
    {% trans "Tenders Simulator" %}
{% endblock title %}

{% block content %}
    <!-- <input type="hidden" id="csrf_token" value="{{ csrf_token }}"> -->

    <div class="d-flex justify-content-between align-items-center">
        <div>
            <span class="h3">{% trans "Tenders Simulator" %}</span>
        </div>
    </div>

    <div class="my-3" id="tender-details">
        <div>
            <div class="card shadow-sm mb-2 bg-secondary-subtle">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="my-1 mx-2">E=<span class="fw-bold">{{ estimate }}</span></div>
                    <div class="my-1 mx-2 text-end small">T=+/- {{ slot }}%</div>
                </div>
            </div>
            <div class="card shadow-sm mb-2 bg-secondary-subtle">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="my-1 mx-2 small">{{ eMin }}<</div>
                    <div class="my-1 mx-2 small text-end">>{{ eMax }}</div>
                </div>
            </div>
            {% if offers %}
                {% for offer in offers %}
                    <div class="card shadow-sm mb-2">
                        <div class="d-flex justify-content-between align-items-center">
                            <div id="offer-{{ forloop.counter }}" class="my-1 mx-2">{{ offer }}</div>
                            <div class="my-1 mx-2 text-end small">{{ forloop.counter }}</div>
                        </div>
                        <div class="m-2">
                            <label for="range-{{ forloop.counter }}" class="form-label">OOOOOO-{{ forloop.counter }}</label>
                            <input type="range" class="form-range" min="{{ eMin }}" max="{{ eMax }}" value="{{ offer }}" id="range-{{ forloop.counter }}">

                            <script>
                                // This is an example script, please modify as needed
                                const rangeInput = document.getElementById('range-{{ forloop.counter }}');
                                const rangeOutput = document.getElementById('offer-{{ forloop.counter }}');

                                // Set initial value
                                rangeOutput.textContent = rangeInput.value;

                                rangeInput.addEventListener('input', function() {
                                    rangeOutput.textContent = this.value;
                                });
                            </script>
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>


{% endblock content %}
