{% extends 'base/base.html' %}
{% load static i18n %}

{% block content %}
  <div class="container mt-4">
    <h2>{% trans "Your Companies" %}</h2>
    <a href="{% url 'nas_company_create' %}" class="btn btn-outline-primary my-3"><i class="bi bi-plus-lg me-2"></i>{% trans "Add Company" %}</a>

    {% if companies %}

      <div class="row g-4 mt-1">
        {% for company in companies %}
          <div class="col-md-6 col-12">
            <div class="card shadow-sm">
              <a href="{% url 'nas_company_detail' company.id %}" id="{{ company.id }}" class="btn btn-light w-100 p-2 text-start">
                <div class="d-flex align-items-center">
                  <div id="img-preview" class="d-inline-block ratio ratio-1x1" style="max-width: 2.5rem;">
                      <img id="image-preview" src="{{ company.logo }}" alt="Avatar" class="img-fluid rounded-circle object-fit-cover">
                  </div>
                  <div class="ms-2">
                      <div class="mt-0 fw-bold oneline">
                          {% if company.verified %}
                              <span data-bs-toggle="tooltip" title="{% trans 'Name, ICE and Commerce Register ID look fine' %}">
                                  <i class="small bi bi-patch-check-fill text-primary"></i>
                              </span>
                          {% else %}
                              <span data-bs-toggle="tooltip" title="{% trans 'Name, ICE and Commerce Register ID could not be verified' %}">
                                  <i class="small bi bi-patch-exclamation-fill text-danger"></i>
                              </span>
                          {% endif %}
                          <span class="me-1">{{ company.name|default:'--' }}</span>
                      </div>
                      <div class="mt-0 small {% if company.iceberg %}text-muted{% else %}text-danger{% endif %}">                              
                          <span class="me-1">{{ company.ice|default:'--' }}</span>
                      </div>
                  </div>
                </div>
              </a>
            </div>
          </div>
        {% endfor %}
      </div>
        {% include 'base/snippets/paginator.html' %}
    {% else %}
      <div class="text-muted fw-light">
        {% trans "No company found" %}
      </div>
    {% endif %}
  </div>
{% endblock %}